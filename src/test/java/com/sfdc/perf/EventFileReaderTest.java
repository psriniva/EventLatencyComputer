package com.sfdc.perf;

import junit.framework.TestCase;

import java.util.ArrayList;
import java.util.HashMap;

/**
 * @author psrinivasan
 *         Date: 11/4/12
 *         Time: 6:45 PM
 */
public class EventFileReaderTest extends TestCase {

    private EventFileReader eventFileReader;
    private final String file_name = "src/main/resources/test_events.dat";

    public void setUp() throws Exception {
        //eventFileReader = new EventFileReader(file_name);

    }


    //ie., did we read 28 lines?
    public void testGetNextLine() throws Exception {
        eventFileReader = new EventFileReader(file_name);
        String line = eventFileReader.getNextLine();
        assertNotNull(line);
        int count = 0;
        while (line != null) {
            count++;
            line = eventFileReader.getNextLine();

        }
        assertEquals(28, count);
    }

    public void testGetNextEventLine() throws Exception {
        eventFileReader = new EventFileReader(file_name);
        String line = eventFileReader.getNextEventLine();
        System.out.println(line);
        assertNotNull(line);
        int count = 0;
        while (line != null) {
            count++;
            line = eventFileReader.getNextEventLine();
            System.out.println(line);
        }
        assertEquals(2, count);
    }

    public void testGetEventTimeStampAndEventData() throws Exception {
        String eventString =
                "[{\"channel\":\"/chatter/news\",\"clientId\":\"11v8n7ltlqk95f1fjxko9alo97t\",\"data\":{\"parent\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"id\":\"0D53000000kXBJxCAO\",\"type\":\"TextPost\",\"clientInfo\":null,\"url\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBJxCAO\",\"createdDate\":\"2012-11-04T22:46:09.000Z\",\"body\":{\"text\":\"FEED POST!\",\"messageSegments\":[{\"type\":\"Text\",\"text\":\"FEED POST!\"}]},\"event\":false,\"modifiedDate\":\"2012-11-04T22:46:09.000Z\",\"photoUrl\":\"/profilephoto/005/T\",\"comments\":{\"total\":0,\"comments\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBJxCAO/comments\"},\"likes\":{\"total\":0,\"likes\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBJxCAO/likes\",\"previousPageUrl\":null},\"isBookmarkedByCurrentUser\":false,\"isDeleteRestricted\":false,\"isLikedByCurrentUser\":false,\"myLike\":null,\"actor\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"attachment\":null,\"originalFeedItem\":null,\"originalFeedItemActor\":null},\"id\":\"0D53000000kXBJx\"},{\"channel\":\"/chatter/news\",\"clientId\":\"11v8n7ltlqk95f1fjxko9alo97t\",\"data\":{\"parent\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"id\":\"0D53000000kXBOVCA4\",\"type\":\"TextPost\",\"clientInfo\":null,\"url\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBOVCA4\",\"createdDate\":\"2012-11-04T22:46:09.000Z\",\"body\":{\"text\":\"FEED POST!\",\"messageSegments\":[{\"type\":\"Text\",\"text\":\"FEED POST!\"}]},\"event\":false,\"modifiedDate\":\"2012-11-04T22:46:09.000Z\",\"photoUrl\":\"/profilephoto/005/T\",\"comments\":{\"total\":0,\"comments\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBOVCA4/comments\"},\"likes\":{\"total\":0,\"likes\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBOVCA4/likes\",\"previousPageUrl\":null},\"isBookmarkedByCurrentUser\":false,\"isDeleteRestricted\":false,\"isLikedByCurrentUser\":false,\"myLike\":null,\"actor\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"attachment\":null,\"originalFeedItem\":null,\"originalFeedItemActor\":null},\"id\":\"0D53000000kXBOV\"},{\"channel\":\"/chatter/news\",\"clientId\":\"11v8n7ltlqk95f1fjxko9alo97t\",\"data\":{\"parent\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"id\":\"0D53000000kXBSqCAO\",\"type\":\"TextPost\",\"clientInfo\":null,\"url\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBSqCAO\",\"createdDate\":\"2012-11-04T22:46:09.000Z\",\"body\":{\"text\":\"FEED POST!\",\"messageSegments\":[{\"type\":\"Text\",\"text\":\"FEED POST!\"}]},\"event\":false,\"modifiedDate\":\"2012-11-04T22:46:09.000Z\",\"photoUrl\":\"/profilephoto/005/T\",\"comments\":{\"total\":0,\"comments\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBSqCAO/comments\"},\"likes\":{\"total\":0,\"likes\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBSqCAO/likes\",\"previousPageUrl\":null},\"isBookmarkedByCurrentUser\":false,\"isDeleteRestricted\":false,\"isLikedByCurrentUser\":false,\"myLike\":null,\"actor\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"attachment\":null,\"originalFeedItem\":null,\"originalFeedItemActor\":null},\"id\":\"0D53000000kXBSq\"},{\"channel\":\"/chatter/news\",\"clientId\":\"11v8n7ltlqk95f1fjxko9alo97t\",\"data\":{\"parent\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"id\":\"0D53000000kXBWZCA4\",\"type\":\"TextPost\",\"clientInfo\":null,\"url\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBWZCA4\",\"createdDate\":\"2012-11-04T22:46:09.000Z\",\"body\":{\"text\":\"FEED POST!\",\"messageSegments\":[{\"type\":\"Text\",\"text\":\"FEED POST!\"}]},\"event\":false,\"modifiedDate\":\"2012-11-04T22:46:09.000Z\",\"photoUrl\":\"/profilephoto/005/T\",\"comments\":{\"total\":0,\"comments\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBWZCA4/comments\"},\"likes\":{\"total\":0,\"likes\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBWZCA4/likes\",\"previousPageUrl\":null},\"isBookmarkedByCurrentUser\":false,\"isDeleteRestricted\":false,\"isLikedByCurrentUser\":false,\"myLike\":null,\"actor\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"attachment\":null,\"originalFeedItem\":null,\"originalFeedItemActor\":null},\"id\":\"0D53000000kXBWZ\"},{\"channel\":\"/chatter/news\",\"clientId\":\"11v8n7ltlqk95f1fjxko9alo97t\",\"data\":{\"parent\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"id\":\"0D53000000kXBJyCAO\",\"type\":\"TextPost\",\"clientInfo\":null,\"url\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBJyCAO\",\"createdDate\":\"2012-11-04T22:46:12.000Z\",\"body\":{\"text\":\"FEED POST!\",\"messageSegments\":[{\"type\":\"Text\",\"text\":\"FEED POST!\"}]},\"event\":false,\"modifiedDate\":\"2012-11-04T22:46:12.000Z\",\"photoUrl\":\"/profilephoto/005/T\",\"comments\":{\"total\":0,\"comments\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBJyCAO/comments\"},\"likes\":{\"total\":0,\"likes\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBJyCAO/likes\",\"previousPageUrl\":null},\"isBookmarkedByCurrentUser\":false,\"isDeleteRestricted\":false,\"isLikedByCurrentUser\":false,\"myLike\":null,\"actor\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"attachment\":null,\"originalFeedItem\":null,\"originalFeedItemActor\":null},\"id\":\"0D53000000kXBJy\"},{\"channel\":\"/chatter/news\",\"clientId\":\"11v8n7ltlqk95f1fjxko9alo97t\",\"data\":{\"parent\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"id\":\"0D53000000kXBJzCAO\",\"type\":\"TextPost\",\"clientInfo\":null,\"url\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBJzCAO\",\"createdDate\":\"2012-11-04T22:46:12.000Z\",\"body\":{\"text\":\"FEED POST!\",\"messageSegments\":[{\"type\":\"Text\",\"text\":\"FEED POST!\"}]},\"event\":false,\"modifiedDate\":\"2012-11-04T22:46:12.000Z\",\"photoUrl\":\"/profilephoto/005/T\",\"comments\":{\"total\":0,\"comments\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBJzCAO/comments\"},\"likes\":{\"total\":0,\"likes\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBJzCAO/likes\",\"previousPageUrl\":null},\"isBookmarkedByCurrentUser\":false,\"isDeleteRestricted\":false,\"isLikedByCurrentUser\":false,\"myLike\":null,\"actor\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"attachment\":null,\"originalFeedItem\":null,\"originalFeedItemActor\":null},\"id\":\"0D53000000kXBJz\"},{\"channel\":\"/chatter/news\",\"clientId\":\"11v8n7ltlqk95f1fjxko9alo97t\",\"data\":{\"parent\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"id\":\"0D53000000kXBXqCAO\",\"type\":\"TextPost\",\"clientInfo\":null,\"url\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBXqCAO\",\"createdDate\":\"2012-11-04T22:46:12.000Z\",\"body\":{\"text\":\"FEED POST!\",\"messageSegments\":[{\"type\":\"Text\",\"text\":\"FEED POST!\"}]},\"event\":false,\"modifiedDate\":\"2012-11-04T22:46:12.000Z\",\"photoUrl\":\"/profilephoto/005/T\",\"comments\":{\"total\":0,\"comments\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBXqCAO/comments\"},\"likes\":{\"total\":0,\"likes\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBXqCAO/likes\",\"previousPageUrl\":null},\"isBookmarkedByCurrentUser\":false,\"isDeleteRestricted\":false,\"isLikedByCurrentUser\":false,\"myLike\":null,\"actor\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"attachment\":null,\"originalFeedItem\":null,\"originalFeedItemActor\":null},\"id\":\"0D53000000kXBXq\"},{\"channel\":\"/chatter/news\",\"clientId\":\"11v8n7ltlqk95f1fjxko9alo97t\",\"data\":{\"parent\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"id\":\"0D53000000kXBYkCAO\",\"type\":\"TextPost\",\"clientInfo\":null,\"url\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBYkCAO\",\"createdDate\":\"2012-11-04T22:46:12.000Z\",\"body\":{\"text\":\"FEED POST!\",\"messageSegments\":[{\"type\":\"Text\",\"text\":\"FEED POST!\"}]},\"event\":false,\"modifiedDate\":\"2012-11-04T22:46:12.000Z\",\"photoUrl\":\"/profilephoto/005/T\",\"comments\":{\"total\":0,\"comments\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBYkCAO/comments\"},\"likes\":{\"total\":0,\"likes\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBYkCAO/likes\",\"previousPageUrl\":null},\"isBookmarkedByCurrentUser\":false,\"isDeleteRestricted\":false,\"isLikedByCurrentUser\":false,\"myLike\":null,\"actor\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"attachment\":null,\"originalFeedItem\":null,\"originalFeedItemActor\":null},\"id\":\"0D53000000kXBYk\"},{\"channel\":\"/chatter/news\",\"clientId\":\"11v8n7ltlqk95f1fjxko9alo97t\",\"data\":{\"parent\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"id\":\"0D53000000kXBZqCAO\",\"type\":\"TextPost\",\"clientInfo\":null,\"url\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBZqCAO\",\"createdDate\":\"2012-11-04T22:46:12.000Z\",\"body\":{\"text\":\"FEED POST!\",\"messageSegments\":[{\"type\":\"Text\",\"text\":\"FEED POST!\"}]},\"event\":false,\"modifiedDate\":\"2012-11-04T22:46:12.000Z\",\"photoUrl\":\"/profilephoto/005/T\",\"comments\":{\"total\":0,\"comments\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBZqCAO/comments\"},\"likes\":{\"total\":0,\"likes\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBZqCAO/likes\",\"previousPageUrl\":null},\"isBookmarkedByCurrentUser\":false,\"isDeleteRestricted\":false,\"isLikedByCurrentUser\":false,\"myLike\":null,\"actor\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"attachment\":null,\"originalFeedItem\":null,\"originalFeedItemActor\":null},\"id\":\"0D53000000kXBZq\"},{\"channel\":\"/chatter/news\",\"clientId\":\"11v8n7ltlqk95f1fjxko9alo97t\",\"data\":{\"parent\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"id\":\"0D53000000kXBa7CAG\",\"type\":\"TextPost\",\"clientInfo\":null,\"url\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBa7CAG\",\"createdDate\":\"2012-11-04T22:46:12.000Z\",\"body\":{\"text\":\"FEED POST!\",\"messageSegments\":[{\"type\":\"Text\",\"text\":\"FEED POST!\"}]},\"event\":false,\"modifiedDate\":\"2012-11-04T22:46:12.000Z\",\"photoUrl\":\"/profilephoto/005/T\",\"comments\":{\"total\":0,\"comments\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBa7CAG/comments\"},\"likes\":{\"total\":0,\"likes\":[],\"nextPageUrl\":null,\"currentPageUrl\":\"/services/data/v25.0/chatter/feed-items/0D53000000kXBa7CAG/likes\",\"previousPageUrl\":null},\"isBookmarkedByCurrentUser\":false,\"isDeleteRestricted\":false,\"isLikedByCurrentUser\":false,\"myLike\":null,\"actor\":{\"name\":\"exhbz\",\"title\":null,\"firstName\":null,\"lastName\":\"exhbz\",\"companyName\":\"IST8 Streaming 20 User Systest Org 7189\",\"isActive\":true,\"photo\":{\"largePhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/F\",\"photoVersionId\":null,\"smallPhotoUrl\":\"https://ist8.soma.salesforce.com/profilephoto/005/T\"},\"mySubscription\":null,\"isChatterGuest\":false,\"id\":\"00530000006bOhiAAE\",\"url\":\"/services/data/v25.0/chatter/users/00530000006bOhiAAE\",\"type\":\"User\"},\"attachment\":null,\"originalFeedItem\":null,\"originalFeedItemActor\":null},\"id\":\"0D53000000kXBa7\"},{\"channel\":\"/meta/connect\",\"clientId\":\"11v8n7ltlqk95f1fjxko9alo97t\",\"successful\":true}]";
        eventFileReader = new EventFileReader(file_name);
        String line = eventFileReader.getNextEventLine();
        HashMap h = eventFileReader.getEventTimeStampAndEventData(line);
        //System.out.println(h.get(EventFileReader.EVENT_TIME_STAMP));
        //System.out.println(h.get(EventFileReader.EVENT_DATA));
        assertEquals("2012-11-04T14:47:47.548Z", h.get(EventFileReader.EVENT_TIME_STAMP));
        assertEquals(eventString, h.get(EventFileReader.EVENT_DATA));
    }

    public void testGetOccurrencesOfCreatedDate() throws Exception {
        eventFileReader = new EventFileReader(file_name);
        String line = eventFileReader.getNextEventLine();
        HashMap<String, String> h = eventFileReader.getEventTimeStampAndEventData(line);
        System.out.println(h.get(EventFileReader.EVENT_DATA));
        ArrayList<String> strings = eventFileReader.getOccurrencesOfCreatedDate(h.get(EventFileReader.EVENT_DATA));
        System.out.println("size of result " + strings.size());
        for (int i = 0; i < strings.size(); i++) {
            System.out.println("output: " + strings.get(i));
        }
        assertEquals(10, strings.size());
        assertEquals("2012-11-04T22:46:09.000Z", strings.get(0));
        assertEquals("2012-11-04T22:46:09.000Z", strings.get(1));
        assertEquals("2012-11-04T22:46:09.000Z", strings.get(2));
        assertEquals("2012-11-04T22:46:09.000Z", strings.get(3));
        assertEquals("2012-11-04T22:46:12.000Z", strings.get(4));
        assertEquals("2012-11-04T22:46:12.000Z", strings.get(5));
        assertEquals("2012-11-04T22:46:12.000Z", strings.get(6));
        assertEquals("2012-11-04T22:46:12.000Z", strings.get(7));
        assertEquals("2012-11-04T22:46:12.000Z", strings.get(8));
        assertEquals("2012-11-04T22:46:12.000Z", strings.get(9));
    }

    public void testTimeEventLatencies() {

    }
}
